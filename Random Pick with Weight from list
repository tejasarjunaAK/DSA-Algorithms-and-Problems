Random Pick with Weight
Solved
Medium
Topics
premium lock icon
Companies
You are given a 0-indexed array of positive integers w where w[i] describes the weight of the ith index.

You need to implement the function pickIndex(), which randomly picks an index in the range [0, w.length - 1] (inclusive) and returns it. The probability of picking an index i is w[i] / sum(w).

For example, if w = [1, 3], the probability of picking index 0 is 1 / (1 + 3) = 0.25 (i.e., 25%), and the probability of picking index 1 is 3 / (1 + 3) = 0.75 (i.e., 75%).

class Solution(object):

    def __init__(self, w):
        """
        :type w: List[int]
        """
        self.weight=w
        self.length= len(w)
        self.total=0
        
        for i in range(self.length):
            self.total+=self.weight[i]
        self.prefix=[0]*self.length
        self.prefix[0]=self.weight[0]
        for i in range(1,self.length):
            self.prefix[i]=self.prefix[i-1]+self.weight[i]


    def pickIndex(self):
        """
        :rtype: int
        """
        rander=random.random()*self.total
        i=0
        while (i<self.length-1) and (rander>self.prefix[i]) :
            i+=1
        return i


  '''LEARNINGS: 
  1)first put i<self.length-1 before other conditions as first python checks the first condition before the next
  2) dividing every number by total to get float between 0 and 1 is high computation and also risky because of accuracy - it gives 0.999999 instead of 1

               
